var p=new Map,o=class{#e=new Map;constructor(e=[]){let r=e instanceof Map?e.entries():Object.entries(e),n=Array.isArray(e)?e:Array.from(r),u=n.map(([d])=>d),l=n.map(([,d])=>d);this.#e=new Map,u.forEach((d,b)=>this.#e.set(a(d),a(l[b])));let m=V(this),c=p.get(m);return c||(p.set(m,this),this)}get size(){return this.#e.size}toArray(){return Array.from(this.entries())}clear(){return new o}delete(e){let r=new Map(this.#e);return r.delete(a(e)),new o(r)}get(e){return this.#e.get(a(e))}has(e){return this.#e.has(a(e))}set(e,r){let n=new Map(this.#e);return n.set(a(e),a(r)),new o(n)}keys(){return this.#e.keys()}values(){return this.#e.values()}entries(){return this.#e.entries()}forEach(e,r){e.bind(r!==void 0?r:this);for(let[n,u]of this.entries())e(n,u,this)}*[Symbol.iterator](){for(let e of this.entries())yield e}};var h=new Map,s=class{#e=new Set;constructor(e=[]){e=Array.isArray(e)?e:Array.from(e.values()),this.#e=e.map(a);let r=V(this),n=h.get(r);return n||(h.set(r,this),this)}get size(){return this.#e.size}toArray(){return[...this.#e]}add(e){let r=new Set(this.#e);return r.add(a(e)),new s(r)}clear(){return new s}delete(e){let r=new Set(this.#e);return r.delete(a(e)),new s(r)}has(e){return this.#e.has(a(e))}values(){return this.#e.values()}keys(){return this.#e.keys()}entries(){return this.#e.entries()}forEach(e,r){e.bind(r!==void 0?r:this);for(let n of this.values())e(n,this)}*[Symbol.iterator](){for(let e of this.values())yield e}};var y=t=>t instanceof i||t instanceof s||t instanceof o?y(t.toArray()):Array.isArray(t)?`[${t.map(y).join()}]`:typeof t=="function"||typeof t=="object"&&t!==null?`{${Object.entries(t).sort().map(([e,r])=>`"${e}":${y(r)}`).join()}}`:JSON.stringify(t),V=y;var x=new Map,i=class{#e=[];constructor(e=[]){this.#e=e.map(a);let r=V(this),n=x.get(r);return n||(x.set(r,this),this)}get length(){return this.#e.length}toArray(){return[...this.#e]}get(e){return this.#e[e]}first(){return this.#e[0]}last(){return this.#e[this.#e.length-1]}concat(...e){return new i(this.#e.concat(...e.map(a)))}copyWithin(e,r,n){let u=this.toArray();return u.copyWithin(e,r,n),new i(u)}entries(){return this.toArray().entries()}every(e){return this.toArray().every(e)}fill(e,r,n){return new i(this.toArray().fill(a(e),r,n))}filter(e){return new i(this.toArray().filter(e))}find(e){return this.toArray().find(e)}findIndex(e){return this.toArray().findIndex(e)}flat(e){return new i(this.#e.flat(e))}flatMap(e){return new i(this.toArray().flatMap(e))}forEach(e,r){e.bind(r!==void 0?r:this);for(let[n,u]of this.entries())e(u,n,this)}includes(e){return this.#e.includes(e)}indexOf(e){return this.#e.indexOf(e)}join(e){return this.#e.join(e)}keys(){return this.#e.keys()}lastIndexOf(e){return this.#e.lastIndexOf(e)}map(e){return new i(this.toArray().map(e))}pop(){return new i(this.toArray().slice(0,-1))}push(...e){return new i([...this.#e,...e.map(a)])}reduce(e,r){return this.toArray().reduce(e,r)}reduceRight(e,r){return this.toArray().reduceRight(e,r)}reverse(){return new i(this.toArray().reverse())}shift(){return new i(this.toArray().slice(1))}slice(e,r){return new i(this.toArray().slice(e,r))}some(e){return this.toArray().some(e)}sort(e){return this.#e.every(r=>typeof r=="number")&&e===void 0&&(e=(r,n)=>r-n),new i(this.toArray().sort(e))}splice(e,r,...n){let u=this.toArray();return u.splice(e,r,...n),new i(u)}toLocaleString(){return this.#e.toLocaleString()}toString(){return this.#e.toString()}unshift(...e){return new i([...e.map(a),...this.#e])}values(){return this.#e.values()}*[Symbol.iterator](){for(let e of this.values())yield e}};function w(t){return t instanceof i||t instanceof s||t instanceof o?t:Array.isArray(t)?new i(t):t instanceof Set?new s(t):typeof t=="object"&&t!==null?new o(t):t}var a=w;function A(t){return new o(t)}var g=A;function F(t){return new s(t)}var M=F;function f(t){return t instanceof i?t.toArray().map(f):t instanceof s?new Set(t.toArray().map(f)):t instanceof o?new Map(t.toArray().map(([e,r])=>[f(e),f(r)])):Array.isArray(t)?t.map(f):typeof t=="object"&&t!==null?Object.entries(t).reduce((e,[r,n])=>({...e,[r]:f(n)}),{}):t}var S=f;export{i as FixedArray,o as FixedMap,s as FixedSet,a as fix,g as fixMap,M as fixSet,S as unfix};
